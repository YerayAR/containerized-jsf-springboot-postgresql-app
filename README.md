# containerized-jsf-springboot-postgresql-app

This project provides a simple multi-container setup with a JSF frontend, a Spring Boot backend and a PostgreSQL database.

## Usage

```bash
docker-compose up --build
```

- Frontend: <http://localhost:8081/app/>
- API REST: <http://localhost:8080/api/products>

## Build Notes

During the initial setup, the following fixes were applied:

1. **Frontend Dockerfile**: Corrected to reference the correct WAR file name (`frontend-1.0.0.war` instead of `frontend.war`) that is generated by the Maven build process.

2. **JSF Dependencies**: Added JSF implementation dependencies to the frontend `pom.xml` since Tomcat doesn't include JSF by default:
   - `com.sun.faces:jsf-api` and `com.sun.faces:jsf-impl` for JSF implementation
   - `org.jboss.weld.servlet:weld-servlet` for CDI support

These changes ensure that both the frontend container builds successfully and the JSF application works properly in Tomcat.

## Services

- **Database**: PostgreSQL 13 running on port 5432
- **Backend**: Spring Boot application with REST API on port 8080
- **Frontend**: JSF application deployed on Tomcat 9 on port 8081

## Sample Data

The database is pre-populated with 8 sample products across different categories:
- Electronics (Laptop, Smartphone, Headphones, Monitor)
- Books (Spring Boot Guide)
- Furniture (Office Desk)
- Food (Premium Coffee)
- Clothing (Cotton T-shirt)

You can access the sample data through:
- **API**: `GET http://localhost:8080/api/products`
- **Individual product**: `GET http://localhost:8080/api/products/{id}`
- **JSF Frontend**: http://localhost:8081/app/ (displays products in a formatted table)

## Frontend Features

The JSF frontend now includes:
- **Product List Display**: Shows all products from the backend API in a responsive table
- **Product Details**: Displays ID, name, description, price, category, and status
- **Styled Interface**: Clean, modern styling with alternating row colors and category badges
- **Real-time Data**: Fetches live data from the Spring Boot backend on each page load
- **Error Handling**: Shows appropriate messages if backend is unavailable

## Development

Sample data is loaded automatically on startup via a Spring `CommandLineRunner`.
Run tests with Maven:

```bash
mvn -f backend/pom.xml test
```
